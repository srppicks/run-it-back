{"ast":null,"code":"var _jsxFileName = \"/Users/steper123/Desktop/FORKAIA/Week_2/RUN_IT_BACK/client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport styled from \"styled-components\";\nimport { Container, Button } from \"reactstrap\";\nimport { GoogleLogin, GoogleLogout } from \"react-google-login\";\nconst Title = styled.h1`\n  text-align: center;\n  padding: 1rem;\n  background-color: #6c757d;\n  color: white;\n`;\nconst ButtonBar = styled.div`\n  padding: 0.5rem 0;\n  margin-bottom: 0.5rem;\n`;\nconst GOOGLE_CLIENT_ID = \"891271447458-5c81te0bt1vfvh11hevdqekil5jj0apo.apps.googleusercontent.com\";\n\nconst App = () => {\n  const [loggedIn, setLogin] = React.useState(false);\n  const [currPlayer, setPlayer] = React.useState(null);\n\n  const handleGoogleLogin = response => {\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${response.tokenId}`\n      }\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert(\"Unable to authenticate\", fetchResponse.statusText);\n        setLogin(false);\n      } else {\n        setLogin(true); //get customerId\n\n        const player = fetch(`/api/player/${response.googleId}/`).then(response => {\n          if (!response.ok) {\n            throw new Error(response.status_text);\n          }\n\n          return response.json();\n        }).then(data => {\n          return data;\n        }).catch(error => {\n          console.log(error);\n        });\n        player.then(data => {\n          setPlayer(data[0]);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    });\n  };\n\n  const handleGoogleFailure = response => {\n    alert(response.error);\n  };\n\n  const handleGoogleLogout = () => {\n    fetch(\"/logout\", {\n      method: \"POST\"\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert(\"Error logging out\", fetchResponse.statusText);\n      }\n\n      setLogin(false);\n    });\n  };\n\n  const loginButton = /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: GOOGLE_CLIENT_ID,\n    buttonText: \"Login with Google\",\n    isSignedIn: true,\n    onSuccess: handleGoogleLogin,\n    onFailure: handleGoogleFailure,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  });\n  const logoutButton = /*#__PURE__*/React.createElement(GoogleLogout, {\n    clientId: GOOGLE_CLIENT_ID,\n    buttonText: \"Logout\",\n    onLogoutSuccess: handleGoogleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"Log-In Tests\"), /*#__PURE__*/React.createElement(ButtonBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, loginButton, \" \", logoutButton));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/steper123/Desktop/FORKAIA/Week_2/RUN_IT_BACK/client/src/App.js"],"names":["React","useState","useEffect","styled","Container","Button","GoogleLogin","GoogleLogout","Title","h1","ButtonBar","div","GOOGLE_CLIENT_ID","App","loggedIn","setLogin","currPlayer","setPlayer","handleGoogleLogin","response","fetch","method","headers","Authorization","tokenId","then","fetchResponse","ok","alert","statusText","player","googleId","Error","status_text","json","data","catch","error","console","log","handleGoogleFailure","handleGoogleLogout","loginButton","logoutButton"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\n\nimport styled from \"styled-components\";\nimport { Container, Button } from \"reactstrap\";\n\nimport { GoogleLogin, GoogleLogout } from \"react-google-login\";\n\nconst Title = styled.h1`\n  text-align: center;\n  padding: 1rem;\n  background-color: #6c757d;\n  color: white;\n`;\nconst ButtonBar = styled.div`\n  padding: 0.5rem 0;\n  margin-bottom: 0.5rem;\n`;\n\nconst GOOGLE_CLIENT_ID =\n  \"891271447458-5c81te0bt1vfvh11hevdqekil5jj0apo.apps.googleusercontent.com\";\n\nconst App = () => {\n  const [loggedIn, setLogin] = React.useState(false);\n  const [currPlayer, setPlayer] = React.useState(null);\n\n\n  const handleGoogleLogin = response => {\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${response.tokenId}`\n      }\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert(\"Unable to authenticate\", fetchResponse.statusText);\n        setLogin(false);\n      } else {\n        setLogin(true);\n\n        //get customerId\n        const player = fetch(`/api/player/${response.googleId}/`)\n          .then(response => {\n            if (!response.ok) {\n              throw new Error(response.status_text);\n            }\n            return response.json();\n          })\n          .then(data => {\n            return data;\n          })\n          .catch(error => {\n            console.log(error);\n          });\n        player\n          .then(data => {\n            setPlayer(data[0]);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }\n    });\n  };\n\n  const handleGoogleFailure = response => {\n    alert(response.error);\n  };\n\n  const handleGoogleLogout = () => {\n    fetch(\"/logout\", {\n      method: \"POST\"\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert(\"Error logging out\", fetchResponse.statusText);\n      }\n      setLogin(false);\n    });\n  };\n\n  const loginButton = (\n    <GoogleLogin\n      clientId={GOOGLE_CLIENT_ID}\n      buttonText=\"Login with Google\"\n      isSignedIn\n      onSuccess={handleGoogleLogin}\n      onFailure={handleGoogleFailure}\n    />\n  );\n  const logoutButton = (\n    <GoogleLogout\n      clientId={GOOGLE_CLIENT_ID}\n      buttonText=\"Logout\"\n      onLogoutSuccess={handleGoogleLogout}\n    />\n  );\n\n  return (\n    <div>\n      <Title>Log-In Tests</Title>\n      <ButtonBar>\n        {loginButton} {logoutButton}\n      </ButtonBar>\n    </div>\n\n  );\n\n\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}