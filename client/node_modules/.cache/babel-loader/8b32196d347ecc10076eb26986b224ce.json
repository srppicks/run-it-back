{"ast":null,"code":"var _jsxFileName = \"/Users/steper123/Desktop/FORKAIA/Week_2/RUN_IT_BACK/client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport styled from \"styled-components\";\nimport { Container, Button } from \"reactstrap\";\nimport { GoogleLogin, GoogleLogout } from \"react-google-login\";\nimport PersonPage from \"./components/PersonPage\";\nimport LocalGameMap from \"./components/LocalGameMap\";\nconst Title = styled.h1`\n  text-align: center;\n  padding: 1rem;\n  background-color: #6c757d;\n  color: white;\n`;\nconst ButtonBar = styled.div`\n  padding: 0.5rem 0;\n  margin-bottom: 0.5rem;\n`;\nconst GOOGLE_CLIENT_ID = \"891271447458-2tacoegsns3ccft1b88g46t3a0kkn6ep.apps.googleusercontent.com\";\n\nconst App = () => {\n  const [loggedIn, setLogin] = React.useState(false);\n  const [currPlayer, setPlayer] = React.useState(null);\n  const [mode, setMode] = React.useState(\"home\");\n\n  const handleGoogleLogin = response => {\n    fetch('/login', {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${response.tokenId}`\n      }\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert('Unable to authenticate', fetchResponse.statusText);\n        setLogin(false);\n      } else {\n        setLogin(true);\n        const customer = fetch(`/api/players/${response.googleId}/`).then(response => {\n          if (!response.ok) {\n            throw new Error(response.status_text);\n          }\n\n          return response.json();\n        }).then(data => {\n          return data;\n        }).catch(error => {\n          console.log(error);\n        });\n        customer.then(data => {\n          setPlayer(data[0]);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    });\n  };\n\n  const handleGoogleFailure = response => {\n    alert(response.error);\n  };\n\n  const handleGoogleLogout = () => {\n    fetch(\"/logout\", {\n      method: \"POST\"\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert(\"Error logging out\", fetchResponse.statusText);\n      }\n\n      setLogin(false);\n    });\n  };\n\n  const handleEditReturn = player => {\n    if (player) {\n      const updatedPerson = { ...currPlayer,\n        ...player\n      };\n      fetch(`/api/players/${updatedPerson.id}`, {\n        method: 'PUT',\n        body: JSON.stringify(updatedPerson),\n        headers: new Headers({\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        })\n      }).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        throw new Error(response.statusText);\n      }).then(fetchedPlayer => {\n        // Create a copy of the collections, replacing the current article if this is an edit\n        console.log(\"Here\");\n        console.log(fetchedPlayer);\n        setPlayer(fetchedPlayer);\n      }).catch(err => console.error(err)); // eslint-disable-line no-console\n    }\n\n    console.log(\"Mode\");\n    setMode(\"home\");\n  };\n\n  const loginButton = /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: GOOGLE_CLIENT_ID,\n    buttonText: \"Login with Google\",\n    isSignedIn: true,\n    onSuccess: handleGoogleLogin,\n    onFailure: handleGoogleFailure,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  });\n  const logoutButton = /*#__PURE__*/React.createElement(GoogleLogout, {\n    clientId: GOOGLE_CLIENT_ID,\n    buttonText: \"Logout\",\n    onLogoutSuccess: handleGoogleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  });\n  const profileButton = /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setMode(\"profile\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, \"Profile\");\n  const mapButton = /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setMode(\"map\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, \"Map View\");\n\n  if (mode === \"home\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }\n    }, \"Log-In Tests\"), /*#__PURE__*/React.createElement(ButtonBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }, !loggedIn && loginButton, \" \", loggedIn && profileButton, \" \", loggedIn && mapButton, \" \", loggedIn && logoutButton));\n  } else if (mode === \"map\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, \"Google Maps\"), /*#__PURE__*/React.createElement(LocalGameMap, {\n      currPlayer: currPlayer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }, \"Profile Page\"), /*#__PURE__*/React.createElement(PersonPage, {\n    backHome: setMode,\n    currPlayer: currPlayer,\n    handleEditReturn: handleEditReturn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/steper123/Desktop/FORKAIA/Week_2/RUN_IT_BACK/client/src/App.js"],"names":["React","useState","useEffect","styled","Container","Button","GoogleLogin","GoogleLogout","PersonPage","LocalGameMap","Title","h1","ButtonBar","div","GOOGLE_CLIENT_ID","App","loggedIn","setLogin","currPlayer","setPlayer","mode","setMode","handleGoogleLogin","response","fetch","method","headers","Authorization","tokenId","then","fetchResponse","ok","alert","statusText","customer","googleId","Error","status_text","json","data","catch","error","console","log","handleGoogleFailure","handleGoogleLogout","handleEditReturn","player","updatedPerson","id","body","JSON","stringify","Headers","Accept","fetchedPlayer","err","loginButton","logoutButton","profileButton","mapButton"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\n\nimport styled from \"styled-components\";\nimport { Container, Button } from \"reactstrap\";\n\nimport { GoogleLogin, GoogleLogout } from \"react-google-login\";\n\nimport PersonPage from \"./components/PersonPage\"\nimport LocalGameMap from \"./components/LocalGameMap\"\n\nconst Title = styled.h1`\n  text-align: center;\n  padding: 1rem;\n  background-color: #6c757d;\n  color: white;\n`;\nconst ButtonBar = styled.div`\n  padding: 0.5rem 0;\n  margin-bottom: 0.5rem;\n`;\n\nconst GOOGLE_CLIENT_ID = \"891271447458-2tacoegsns3ccft1b88g46t3a0kkn6ep.apps.googleusercontent.com\";\n\nconst App = () => {\n  const [loggedIn, setLogin] = React.useState(false);\n  const [currPlayer, setPlayer] = React.useState(null);\n  const [mode, setMode] = React.useState(\"home\");\n\n  const handleGoogleLogin = (response) => {\n  fetch('/login', {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${response.tokenId}`,\n    },\n  }).then((fetchResponse) => {\n    if (!fetchResponse.ok) {\n      alert('Unable to authenticate', fetchResponse.statusText);\n      setLogin(false);\n    } else {\n      setLogin(true);\n      const customer = fetch(`/api/players/${response.googleId}/`)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(response.status_text);\n          }\n          return response.json();\n        })\n        .then(data => {\n          return data;\n        })\n        .catch(error => {\n          console.log(error);\n        });\n      customer\n        .then(data => {\n          setPlayer(data[0]);\n        }).catch(error => {\n          console.log(error);\n        });\n    }\n  });\n};\n\n  const handleGoogleFailure = response => {\n    alert(response.error);\n  };\n\n  const handleGoogleLogout = () => {\n    fetch(\"/logout\", {\n      method: \"POST\"\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert(\"Error logging out\", fetchResponse.statusText);\n      }\n      setLogin(false);\n    });\n  };\n\n  const handleEditReturn = (player) => {\n    if (player) {\n      const updatedPerson = { ...currPlayer, ...player };\n\n      fetch(`/api/players/${updatedPerson.id}`, {\n        method: 'PUT',\n        body: JSON.stringify(updatedPerson),\n        headers: new Headers({\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        }),\n      })\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          throw new Error(response.statusText);\n        })\n        .then((fetchedPlayer) => {\n          // Create a copy of the collections, replacing the current article if this is an edit\n          console.log(\"Here\");\n          console.log(fetchedPlayer);\n          setPlayer(fetchedPlayer);\n        })\n        .catch((err) => console.error(err)); // eslint-disable-line no-console\n    }\n\n    console.log(\"Mode\");\n    setMode(\"home\");\n\n  };\n\n  const loginButton = (\n    <GoogleLogin\n      clientId={GOOGLE_CLIENT_ID}\n      buttonText=\"Login with Google\"\n      isSignedIn\n      onSuccess={handleGoogleLogin}\n      onFailure={handleGoogleFailure}\n    />\n  );\n  const logoutButton = (\n    <GoogleLogout\n      clientId={GOOGLE_CLIENT_ID}\n      buttonText=\"Logout\"\n      onLogoutSuccess={handleGoogleLogout}\n    />\n  );\n\n  const profileButton = (\n    <Button\n      onClick={() => setMode(\"profile\")}>\n      Profile\n      </Button>\n\n  );\n\n  const mapButton = (\n    <Button\n      onClick={() => setMode(\"map\")}>\n      Map View\n    </Button>\n\n  );\n\n  if (mode === \"home\") {\n    return (\n      <div>\n        <Title>Log-In Tests</Title>\n        <ButtonBar>\n          {!loggedIn && loginButton} {loggedIn && profileButton} {loggedIn && mapButton} {loggedIn && logoutButton}\n        </ButtonBar>\n      </div>\n\n    );\n  }\n  else if (mode === \"map\") {\n    return (\n      <div>\n        <Title>Google Maps</Title>\n        <LocalGameMap currPlayer={currPlayer}></LocalGameMap>\n\n      </div>\n\n    );\n  }\n\n  return (\n    <div>\n      <Title>Profile Page</Title>\n      <PersonPage backHome={setMode} currPlayer={currPlayer} handleEditReturn={handleEditReturn} ></PersonPage>\n    </div>\n\n  );\n\n\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}