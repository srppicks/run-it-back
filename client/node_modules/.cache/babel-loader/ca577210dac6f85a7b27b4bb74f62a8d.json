{"ast":null,"code":"var _jsxFileName = \"/Users/steper123/Desktop/FORKAIA/Week_2/RUN_IT_BACK/client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport styled from \"styled-components\";\nimport { Container, Button } from \"reactstrap\";\nimport { GoogleLogin, GoogleLogout } from \"react-google-login\";\nconst Title = styled.h1`\n  text-align: center;\n  padding: 1rem;\n  background-color: #6c757d;\n  color: white;\n`;\nconst ButtonBar = styled.div`\n  padding: 0.5rem 0;\n  margin-bottom: 0.5rem;\n`;\nconst GOOGLE_CLIENT_ID = \"891271447458-2tacoegsns3ccft1b88g46t3a0kkn6ep.apps.googleusercontent.com\";\n\nconst App = () => {\n  const [loggedIn, setLogin] = React.useState(false);\n  const [currPlayer, setPlayer] = React.useState(null);\n  const [mode, setMode] = React.useState(\"home\");\n\n  const handleGoogleLogin = response => {\n    fetch('/login', {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${response.tokenId}`\n      }\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert('Unable to authenticate', fetchResponse.statusText);\n        setLogin(false);\n      } else {\n        setLogin(true);\n        const customer = fetch(`/api/players/${response.googleId}/`).then(response => {\n          if (!response.ok) {\n            throw new Error(response.status_text);\n          }\n\n          return response.json();\n        }).then(data => {\n          return data;\n        }).catch(error => {\n          console.log(error);\n        });\n        customer.then(data => {\n          setPlayer(data[0]);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    });\n  };\n\n  const handleGoogleFailure = response => {\n    alert(response.error);\n  };\n\n  const handleGoogleLogout = () => {\n    fetch(\"/logout\", {\n      method: \"POST\"\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert(\"Error logging out\", fetchResponse.statusText);\n      }\n\n      setLogin(false);\n    });\n  };\n\n  const loginButton = /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: GOOGLE_CLIENT_ID,\n    buttonText: \"Login with Google\",\n    isSignedIn: true,\n    onSuccess: handleGoogleLogin,\n    onFailure: handleGoogleFailure,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  });\n  const logoutButton = /*#__PURE__*/React.createElement(GoogleLogout, {\n    clientId: GOOGLE_CLIENT_ID,\n    buttonText: \"Logout\",\n    onLogoutSuccess: handleGoogleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  });\n  const profileButton = /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setMode(\"profile\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, \"Profile\");\n\n  if (mode === \"home\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, \"Log-In Tests\"), /*#__PURE__*/React.createElement(ButtonBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, !loggedIn && loginButton, \" \", loggedIn && profileButton, \" \", loggedIn && logoutButton));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, \"Profile Page\"), /*#__PURE__*/React.createElement(PersonPage, {\n    backHome: setMode,\n    currPlayer: currPlayer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/steper123/Desktop/FORKAIA/Week_2/RUN_IT_BACK/client/src/App.js"],"names":["React","useState","useEffect","styled","Container","Button","GoogleLogin","GoogleLogout","Title","h1","ButtonBar","div","GOOGLE_CLIENT_ID","App","loggedIn","setLogin","currPlayer","setPlayer","mode","setMode","handleGoogleLogin","response","fetch","method","headers","Authorization","tokenId","then","fetchResponse","ok","alert","statusText","customer","googleId","Error","status_text","json","data","catch","error","console","log","handleGoogleFailure","handleGoogleLogout","loginButton","logoutButton","profileButton"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\n\nimport styled from \"styled-components\";\nimport { Container, Button } from \"reactstrap\";\n\nimport { GoogleLogin, GoogleLogout } from \"react-google-login\";\n\nconst Title = styled.h1`\n  text-align: center;\n  padding: 1rem;\n  background-color: #6c757d;\n  color: white;\n`;\nconst ButtonBar = styled.div`\n  padding: 0.5rem 0;\n  margin-bottom: 0.5rem;\n`;\n\nconst GOOGLE_CLIENT_ID = \"891271447458-2tacoegsns3ccft1b88g46t3a0kkn6ep.apps.googleusercontent.com\";\n\nconst App = () => {\n  const [loggedIn, setLogin] = React.useState(false);\n  const [currPlayer, setPlayer] = React.useState(null);\n  const [mode, setMode] = React.useState(\"home\");\n\n  const handleGoogleLogin = (response) => {\n  fetch('/login', {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${response.tokenId}`,\n    },\n  }).then((fetchResponse) => {\n    if (!fetchResponse.ok) {\n      alert('Unable to authenticate', fetchResponse.statusText);\n      setLogin(false);\n    } else {\n      setLogin(true);\n      const customer = fetch(`/api/players/${response.googleId}/`)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(response.status_text);\n          }\n          return response.json();\n        })\n        .then(data => {\n          return data;\n        })\n        .catch(error => {\n          console.log(error);\n        });\n      customer\n        .then(data => {\n          setPlayer(data[0]);\n        }).catch(error => {\n          console.log(error);\n        });\n    }\n  });\n};\n\n  const handleGoogleFailure = response => {\n    alert(response.error);\n  };\n\n  const handleGoogleLogout = () => {\n    fetch(\"/logout\", {\n      method: \"POST\"\n    }).then(fetchResponse => {\n      if (!fetchResponse.ok) {\n        alert(\"Error logging out\", fetchResponse.statusText);\n      }\n      setLogin(false);\n    });\n  };\n\n  const loginButton = (\n    <GoogleLogin\n      clientId={GOOGLE_CLIENT_ID}\n      buttonText=\"Login with Google\"\n      isSignedIn\n      onSuccess={handleGoogleLogin}\n      onFailure={handleGoogleFailure}\n    />\n  );\n  const logoutButton = (\n    <GoogleLogout\n      clientId={GOOGLE_CLIENT_ID}\n      buttonText=\"Logout\"\n      onLogoutSuccess={handleGoogleLogout}\n    />\n  );\n\n  const profileButton = (\n    <Button\n      onClick={() => setMode(\"profile\")}>\n      Profile\n      </Button>\n\n  );\n\n  if (mode === \"home\") {\n    return (\n      <div>\n        <Title>Log-In Tests</Title>\n        <ButtonBar>\n          {!loggedIn && loginButton} {loggedIn && profileButton} {loggedIn && logoutButton}\n        </ButtonBar>\n      </div>\n\n    );\n  }\n\n  return (\n    <div>\n      <Title>Profile Page</Title>\n      <PersonPage backHome={setMode} currPlayer={currPlayer} ></PersonPage>\n    </div>\n\n  );\n\n\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}